<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I Love You Heart | Rissx 404</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000;
            position: fixed;
        }

        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }

        /* Container untuk semua elemen */
        .scene {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
            overflow: hidden;
        }

        /* Intro animations */
        .intro-effect {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 3;
            opacity: 0;
            pointer-events: none;
        }

        .ring {
            width: 0;
            height: 0;
            border-radius: 50%;
            border: 2px solid transparent;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: ringExpand 2s ease-out forwards;
        }

        .particle-burst {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #ff4081;
            box-shadow: 0 0 20px #ff4081;
            opacity: 0;
            animation: particleBurst 1.5s ease-out forwards;
        }

        /* Small falling hearts */
        .falling-heart {
            position: absolute;
            color: #ff4081;
            font-size: 24px;
            opacity: 0;
            pointer-events: none;
            user-select: none;
            z-index: 1;
            text-shadow: 0 0 15px rgba(255, 64, 129, 0.8);
            top: -50px;
            animation-timing-function: linear;
            animation-fill-mode: forwards;
        }

        /* Big heart container - BENAR-BENAR DI TENGAH */
        .big-heart {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.3);
            opacity: 0;
            z-index: 2;
            transition: transform 3s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 2.5s ease;
            filter: drop-shadow(0 0 20px rgba(255, 64, 129, 0.6));
            width: min(70vw, 70vh, 500px);
            height: min(70vw, 70vh, 500px);
            max-width: 500px;
            max-height: 500px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Heart cell - each contains "I love you" text */
        .heart-cell {
            position: absolute;
            color: #ff4081;
            font-weight: bold;
            font-size: clamp(10px, 1.8vw, 15px);
            text-align: center;
            opacity: 0;
            transform: scale(0.3) rotate(0deg);
            transition: opacity 1.2s ease, transform 1.2s ease;
            text-shadow: 0 0 10px rgba(255, 64, 129, 0.9);
            white-space: nowrap;
            animation: gentleFloat 6s infinite ease-in-out;
        }

        /* Animations */
        @keyframes ringExpand {
            0% {
                width: 0;
                height: 0;
                border-color: rgba(255, 64, 129, 0);
                opacity: 1;
            }
            50% {
                border-color: rgba(255, 64, 129, 0.8);
                opacity: 1;
            }
            100% {
                width: 300px;
                height: 300px;
                border-color: rgba(255, 64, 129, 0);
                opacity: 0;
            }
        }

        @keyframes particleBurst {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.1);
                box-shadow: 0 0 0 rgba(255, 64, 129, 0);
            }
            30% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
                box-shadow: 0 0 50px rgba(255, 64, 129, 0.8);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0);
                box-shadow: 0 0 100px rgba(255, 64, 129, 0);
            }
        }

        @keyframes fallingHeartAnimation {
            0% {
                opacity: 0;
                transform: translateY(0) rotate(0deg);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                opacity: 0;
                transform: translateY(calc(100vh + 100px)) rotate(360deg);
            }
        }

        @keyframes gentleFloat {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
            }
            33% {
                transform: translate(-50%, -50%) scale(1.05) rotate(120deg);
            }
            66% {
                transform: translate(-50%, -50%) scale(1.03) rotate(240deg);
            }
        }

        @keyframes pulse {
            0%, 100% {
                text-shadow: 0 0 10px rgba(255, 64, 129, 0.7);
                opacity: 0.9;
            }
            50% {
                text-shadow: 0 0 25px rgba(255, 64, 129, 1), 0 0 40px rgba(255, 64, 129, 0.7);
                opacity: 1;
            }
        }

        @keyframes glow {
            0%, 100% {
                filter: drop-shadow(0 0 15px rgba(255, 64, 129, 0.5));
            }
            50% {
                filter: drop-shadow(0 0 30px rgba(255, 64, 129, 0.7)) 
                        drop-shadow(0 0 45px rgba(255, 64, 129, 0.4));
            }
        }

        @keyframes textRotation {
            0% {
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
            }
            100% {
                transform: translate(-50%, -50%) scale(1) rotate(360deg);
            }
        }

        @keyframes orbitRotation {
            0% {
                transform: translate(-50%, -50%) rotate(0deg) translateX(var(--orbit-radius)) rotate(0deg);
            }
            100% {
                transform: translate(-50%, -50%) rotate(360deg) translateX(var(--orbit-radius)) rotate(-360deg);
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="scene" id="scene">
        <div class="big-heart" id="bigHeart"></div>
    </div>

    <script>
        // DOM elements
        const scene = document.getElementById('scene');
        const bigHeart = document.getElementById('bigHeart');
        
        // Animation state
        let particles = [];
        let heartCells = [];
        let isHeartFormed = false;
        let isAnimating = false;
        let heartRainInterval;
        
        // Initialize
        function init() {
            // Set ukuran scene
            resizeScene();
            
            // Prevent semua scroll dan geser
            preventAllScroll();
            
            // Mulai dengan animasi ring dan particle burst
            startIntroAnimations();
            
            // Event listeners
            window.addEventListener('resize', resizeScene);
            
            // Klik untuk restart animasi
            document.addEventListener('click', restartAnimation);
        }
        
        // Prevent semua scroll dan geser
        function preventAllScroll() {
            document.addEventListener('wheel', (e) => e.preventDefault(), { passive: false });
            document.addEventListener('touchmove', (e) => e.preventDefault(), { passive: false });
            document.addEventListener('keydown', (e) => {
                if ([32, 33, 34, 35, 36, 37, 38, 39, 40].includes(e.keyCode)) e.preventDefault();
            });
            document.addEventListener('contextmenu', (e) => e.preventDefault());
        }
        
        // Set ukuran scene
        function resizeScene() {
            scene.style.width = window.innerWidth + 'px';
            scene.style.height = window.innerHeight + 'px';
        }
        
        // Start intro animations
        function startIntroAnimations() {
            // ANIMASI 1: Lingkaran yang mengembang dari tengah
            createRingAnimation();
            
            // Setelah animasi pertama, tampilkan animasi kedua
            setTimeout(() => {
                // ANIMASI 2: Ledakan partikel di tengah
                createParticleBurst();
                
                // Setelah animasi kedua, mulai hujan hati tunggal
                setTimeout(() => {
                    startHeartRain();
                    
                    // Setelah hujan hati selesai, baru bentuk love besar
                    setTimeout(() => {
                        createHeartFormation();
                    }, 8000);
                }, 800);
            }, 2000);
        }
        
        // Animasi 1: Lingkaran yang mengembang
        function createRingAnimation() {
            const ring = document.createElement('div');
            ring.className = 'ring';
            scene.appendChild(ring);
            
            // Hapus setelah animasi selesai
            setTimeout(() => {
                if (ring.parentNode) ring.remove();
            }, 2000);
        }
        
        // Animasi 2: Ledakan partikel
        function createParticleBurst() {
            const burst = document.createElement('div');
            burst.className = 'particle-burst';
            scene.appendChild(burst);
            
            // Hapus setelah animasi selesai
            setTimeout(() => {
                if (burst.parentNode) burst.remove();
            }, 1500);
        }
        
        // Hujan hati tunggal dari atas ke bawah
        function startHeartRain() {
            const heartCount = 40;
            
            // Clear interval sebelumnya jika ada
            if (heartRainInterval) clearInterval(heartRainInterval);
            
            let heartCreated = 0;
            
            heartRainInterval = setInterval(() => {
                if (heartCreated < heartCount) {
                    createFallingHeart();
                    heartCreated++;
                } else {
                    clearInterval(heartRainInterval);
                }
            }, 200);
        }
        
        // Membuat hati kecil yang jatuh
        function createFallingHeart() {
            const heart = document.createElement('div');
            heart.className = 'falling-heart';
            heart.innerHTML = 'â¤';
            
            // Random horizontal position
            const leftPos = 10 + Math.random() * 80;
            heart.style.left = `${leftPos}%`;
            
            // Random color
            const hue = 330 + Math.random() * 30;
            heart.style.color = `hsl(${hue}, 100%, 65%)`;
            
            // Random size
            const size = 18 + Math.random() * 12;
            heart.style.fontSize = `${size}px`;
            
            // Random animation duration
            const duration = 4 + Math.random() * 3;
            
            // Set animation
            heart.style.animation = `fallingHeartAnimation ${duration}s linear forwards`;
            
            scene.appendChild(heart);
            particles.push(heart);
            
            // Remove after animation completes
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.remove();
                    particles = particles.filter(p => p !== heart);
                }
            }, duration * 1000);
        }
        
        // Generate heart points - DI TENGAH SEMPURNA
        function generateHeartPoints(centerX, centerY, size) {
            const points = [];
            const step = 0.025;
            
            for (let t = 0; t < 2 * Math.PI; t += step) {
                // Heart parametric equations
                const x = 16 * Math.pow(Math.sin(t), 3);
                const y = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
                
                // Scale dan posisi - TANPA KOREKSI KE KIRI
                const scaledX = centerX + x * size / 18;
                const scaledY = centerY - y * size / 18;
                
                points.push({x: scaledX, y: scaledY});
            }
            
            return points;
        }
        
        // Membentuk love besar di tengah SEMPURNA
        function createHeartFormation() {
            if (isAnimating) return;
            isAnimating = true;
            
            // Clear existing particles
            clearAllParticles();
            
            // Setup big heart di tengah SEMPURNA
            setupBigHeart();
            
            // Animate heart muncul di tengah SEMPURNA
            setTimeout(() => {
                animateHeartAppearance();
                
                // Create heart cells setelah heart muncul
                setTimeout(() => {
                    createHeartCells();
                }, 1000);
            }, 300);
        }
        
        // Clear all particles
        function clearAllParticles() {
            particles.forEach(particle => {
                if (particle.parentNode) {
                    particle.style.animation = 'none';
                    particle.style.opacity = '0';
                    setTimeout(() => {
                        if (particle.parentNode) particle.remove();
                    }, 100);
                }
            });
            particles = [];
            
            // Clear interval jika masih ada
            if (heartRainInterval) {
                clearInterval(heartRainInterval);
                heartRainInterval = null;
            }
        }
        
        // Setup big heart di tengah SEMPURNA
        function setupBigHeart() {
            // Reset big heart ke posisi tengah viewport TANPA KOREKSI KE KIRI
            bigHeart.style.position = 'fixed';
            bigHeart.style.top = '50%';
            bigHeart.style.left = '50%';
            bigHeart.style.opacity = '0';
            bigHeart.style.transform = 'translate(-50%, -50%) scale(0.3)'; // TANPA KOREKSI KE KIRI
            
            // Clear existing cells
            bigHeart.innerHTML = '';
            heartCells = [];
            
            // Reset animation
            bigHeart.style.animation = 'none';
        }
        
        // Animate heart muncul di tengah SEMPURNA
        function animateHeartAppearance() {
            // Heart muncul dari kecil ke besar di tengah viewport TANPA KOREKSI KE KIRI
            bigHeart.style.opacity = '1';
            bigHeart.style.transform = 'translate(-50%, -50%) scale(1)'; // TANPA KOREKSI KE KIRI
            bigHeart.style.transition = 'transform 2.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 2s ease';
            
            // Add glow animation saja
            setTimeout(() => {
                bigHeart.style.animation = 'glow 3s infinite';
            }, 2500);
        }
        
        // Create heart cells untuk membentuk love besar DI TENGAH SEMPURNA
        function createHeartCells() {
            const centerX = 0;
            const centerY = 0;
            const heartSize = Math.min(bigHeart.offsetWidth, bigHeart.offsetHeight) * 0.65;
            
            // Generate heart points
            const heartPoints = generateHeartPoints(centerX, centerY, heartSize);
            
            // Create cells dengan jumlah optimal untuk rotasi smooth
            const cellsNeeded = Math.min(heartPoints.length, 350);
            const step = Math.floor(heartPoints.length / cellsNeeded);
            
            for (let i = 0; i < heartPoints.length; i += step) {
                if (heartCells.length >= cellsNeeded) break;
                
                const point = heartPoints[i];
                createHeartCell(
                    point.x, 
                    point.y,
                    heartCells.length,
                    cellsNeeded
                );
            }
            
            // Animate cells appearance dengan efek rotasi profesional
            setTimeout(() => {
                heartCells.forEach((cell, index) => {
                    setTimeout(() => {
                        cell.style.opacity = '1';
                        const rotationSpeed = 20 + (index % 3) * 5;
                        const rotationDirection = index % 2 === 0 ? 1 : -1;
                        
                        cell.style.animation = `
                            gentleFloat ${6 + Math.random() * 4}s infinite ease-in-out,
                            textRotation ${rotationSpeed}s linear infinite ${rotationDirection > 0 ? 'normal' : 'reverse'}
                        `;
                        
                        if (index % 5 === 0) {
                            const orbitRadius = 5 + (index % 3) * 8;
                            cell.style.setProperty('--orbit-radius', `${orbitRadius}px`);
                            cell.style.animation += `, orbitRotation ${15 + (index % 10) * 2}s linear infinite`;
                        }
                        
                        cell.style.transform = 'translate(-50%, -50%) scale(1)';
                    }, index * 10);
                });
                
                isHeartFormed = true;
                isAnimating = false;
            }, 800);
        }
        
        // Create individual heart cell DI TENGAH SEMPURNA
        function createHeartCell(x, y, index, totalCells) {
            const cell = document.createElement('div');
            cell.className = 'heart-cell';
            cell.textContent = 'I love you';
            
            // Posisi relatif terhadap pusat bigHeart TANPA KOREKSI KE KIRI
            cell.style.left = `calc(50% + ${x}px)`;
            cell.style.top = `calc(50% + ${y}px)`;
            
            // Warna berdasarkan posisi dalam bentuk untuk efek gradien
            const hue = 330 + (index / totalCells) * 25;
            const saturation = 90 + Math.random() * 10;
            const lightness = 60 + Math.random() * 10;
            cell.style.color = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
            
            // Font size berdasarkan layar
            const fontSize = Math.max(11, Math.min(16, window.innerWidth / 70));
            cell.style.fontSize = `${fontSize}px`;
            
            // Z-index berdasarkan posisi Y untuk efek kedalaman
            const zIndex = Math.round(100 + (y / 100));
            cell.style.zIndex = zIndex;
            
            // Opacity awal untuk transisi
            cell.style.opacity = '0';
            
            // Transform awal dengan rotasi acak
            const initialRotation = Math.random() * 360;
            cell.style.transform = `translate(-50%, -50%) scale(0.3) rotate(${initialRotation}deg)`;
            
            bigHeart.appendChild(cell);
            heartCells.push(cell);
            
            return cell;
        }
        
        // Restart animation
        function restartAnimation() {
            if (isAnimating) return;
            
            // Reset state
            isHeartFormed = false;
            isAnimating = true;
            
            // Fade out heart cells
            heartCells.forEach(cell => {
                cell.style.opacity = '0';
                cell.style.transition = 'opacity 0.8s ease';
                setTimeout(() => {
                    if (cell.parentNode) cell.remove();
                }, 800);
            });
            heartCells = [];
            
            // Fade out big heart
            bigHeart.style.opacity = '0';
            bigHeart.style.animation = 'none';
            
            // Clear semua particles
            clearAllParticles();
            
            // Start over setelah delay
            setTimeout(() => {
                bigHeart.innerHTML = '';
                
                // Mulai kembali dari awal
                startIntroAnimations();
            }, 1000);
        }
        
        // Start animation
        window.addEventListener('load', init);
    </script>
</body>
</html>